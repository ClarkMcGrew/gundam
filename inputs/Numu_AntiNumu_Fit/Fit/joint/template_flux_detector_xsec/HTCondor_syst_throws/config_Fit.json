{
    "data_file" : "Events_joint.root",
    "mc_file"   : "Events_joint.root",
    "output_file" : "fit_result_joint.root",
    "input_dir" : "/inputs/Numu_AntiNumu_Fit/Fit/joint/template_flux_detector_xsec/",
    "fit_type"  : 0,
    "stat_fluc" : false,
    "zero_syst" : false,
    "rng_template" : true,
    "save_events" : true,
    "data_POT"  : 3.14E21,
    "mc_POT"    : 3.14E21,
    "rng_seed"  : 123456,
    "num_threads" : 16,
    "sample_topology" : ["CC-0Pi", "CC-1Pi", "CC-Other", "BKG", "out FV", "sand #mu", "aCC-0Pi", "aCC-1Pi", "aCC-Other", "aBKG", "a out FV", "a sand #mu", "no truth"],
    "topology_HL_code" : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, -1],
    "min_settings" : {
        "minimizer" : "Minuit2",
        "algorithm" : "Migrad",
        "likelihood" : "Poisson",
        "print_level" : 2,
        "tolerance" : 1E-1,
        "strategy" : 1,
        "max_iter" : 1E6,
        "max_fcn" : 1E9
    },
    "flux_cov" : {
        "file" : "xsllh_fluxcovmat_ND280_and_INGRID.root",
        "matrix" : "flux_numu_cov",
        "binning" : "binning/flux_binning.txt",
        "throw"  : true,
        "decomp" : false,
        "variance" : 0.95,
        "fit_par" : true
    },
    "det_cov" : {
        "file" : "detcov_joint_reduced_bins.root",
        "matrix" : "cov_reco",
        "throw"  : true,
        "decomp" : true,
        "variance" : 0.95,
        "fit_par" : true
    },
    "xsec_cov" : {
        "file" : "xsec_cov_numu_numu_antinumu.root",
        "matrix" : "xsec_cov",
        "throw"  : true,
        "decomp" : false,
        "variance" : 1.00,
        "fit_par" : true
    },
    "regularisation" : {
        "enable" : false,
        "strength" : 0.011,
        "method" : "kL2Reg"
    },
    "detectors" : [
        {
            "name" : "INGRIDxxx",
            "xsec_config" : "ptheta_dials_INGRID.json",
            "binning" : "binning/analysis_binning_ingridxxxxxxxxxxxxxxx.txt",
            "template_par" : [
                {
                    "name" : "INGRID_CC0pi_template",
                    "binning" : "binning/analysis_binning_ingrid.txt",
                    "signal" : {"topology" : [0,1,2], "beammode" : [2]},
                    "use" : true
                }
            ],
            "use_detector" : true
        },
        {
            "name" : "ND280xxx",
            "xsec_config" : "ptheta_dials_ND280.json",
            "binning" : "binning/analysis_binning_finexxxxxxxx.txt",
            "template_par" : [
                {
                    "name" : "Numu-CC0pi",
                    "binning" : "binning/analysis_binning.txt",
                    "signal" : {"topology" : [0], "target" : [6], "beammode" : [1], "flavor" : [14]},
                    "use" : true
                },
                {
                    "name" : "AntiNumu-CC0pi",
                    "binning" : "binning/analysis_binning.txt",
                    "signal" : {"topology" : [6], "target" : [6], "beammode" : [-1], "flavor" : [-14]},
                    "use" : true
                }
            ],
            "use_detector" : true
        }
    ],
    "samples" : [
        {
            "cut_branch" : -1,
            "name" : "truth",
            "detector" : "ND280xxx",
            "binning" : "binning/analysis_binning.txt",
            "use_sample" : false
        },
        {
            "cut_branch" : 0,
            "name" : "Numu-muTPC",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_00_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 1,
            "name" : "Numu-muTPCpTPC",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_01_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 2,
            "name" : "Numu-muTPCpFGD",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_02_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 3,
            "name" : "Numu-muFGDpTPC",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_03_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 4,
            "name" : "Numu-muFGD",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_04_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 5,
            "name" : "Numu-CC1pi",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_05_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 6,
            "name" : "Numu-CCDIS",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_06_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 7,
            "name" : "Numu-CCMichel",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_07_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 8,
            "name" : "Numu-muTPCNp",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_09_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 9,
            "name" : "AntiNumu-FwdCC0pi",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_20_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 10,
            "name" : "AntiNumu-HAFwdCC0pi",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_21_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 11,
            "name" : "AntiNumu-BwdCC0pi",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_22_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 12,
            "name" : "AntiNumu-HABwdCC0pi",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_23_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 13,
            "name" : "AntiNumu-CC1pi",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_24_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 14,
            "name" : "AntiNumu-CCOther",
            "detector" : "ND280xxx",
            "binning" : "binning/nd280_sample_25_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 15,
            "name": "INGRID_CC0pi",
            "detector" : "INGRIDxxx",
            "binning" : "binning/ingrid_sample_15_bins.txt",
            "use_sample" : true
        },
        {
            "cut_branch" : 16,
            "name": "INGRID_CC1pi",
            "detector" : "INGRIDxxx",
            "binning" : "binning/ingrid_sample_16_bins.txt",
            "use_sample" : true
        }
    ]
}
